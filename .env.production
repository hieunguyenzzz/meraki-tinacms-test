# Production Environment Variables for Dockploy
# Copy this to .env in Dockploy's environment configuration

# ============================================
# DATABASE (PostgreSQL)
# ============================================
POSTGRES_USER=tinacms
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD_123
POSTGRES_DB=tinacms

# Database connection URL (internal Docker network)
DATABASE_URL=postgresql://tinacms:CHANGE_THIS_TO_STRONG_PASSWORD_123@postgres:5432/tinacms

# ============================================
# GITHUB OAUTH & GIT PROVIDER
# ============================================
# Create PRODUCTION OAuth App: https://github.com/settings/developers
# Homepage URL: https://your-domain.com
# Callback URL: https://your-domain.com/api/auth/callback/github

GITHUB_CLIENT_ID=your_production_github_oauth_client_id
GITHUB_CLIENT_SECRET=your_production_github_oauth_client_secret

# Repository details
GITHUB_OWNER=hieunguyenzzz
GITHUB_REPO=meraki-tinacms-test
GITHUB_BRANCH=main

# Personal Access Token for Git operations
# Create at: https://github.com/settings/tokens
# Required scopes: repo (full control)
GITHUB_PERSONAL_ACCESS_TOKEN=ghp_your_production_personal_access_token

# ============================================
# AUTH.JS (NextAuth)
# ============================================
# Your production domain (IMPORTANT: Must match your actual domain)
NEXTAUTH_URL=https://your-domain.com

# Generate with: openssl rand -base64 32
# MUST be different from development!
NEXTAUTH_SECRET=GENERATE_NEW_SECRET_FOR_PRODUCTION_USE_OPENSSL_RAND_BASE64_32

# ============================================
# TINACMS
# ============================================
# Set to "false" for self-hosted backend mode
TINA_PUBLIC_IS_LOCAL=false

# TinaCMS token (generate with: openssl rand -base64 24)
TINA_TOKEN=GENERATE_NEW_TOKEN_FOR_PRODUCTION

# ============================================
# DOCKER & APP SETTINGS
# ============================================
# Port to expose the application (Dockploy usually handles this)
APP_PORT=3000

# Data persistence path (for PostgreSQL volumes)
DATA_PATH=./data/postgres

# ============================================
# ADMIN USERS (Optional but Recommended)
# ============================================
# Comma-separated list of GitHub usernames allowed to access admin
# Highly recommended for production to restrict access
ALLOWED_GITHUB_USERS=hieunguyenzzz,your_team_member1,your_team_member2

# ============================================
# PRODUCTION SETTINGS
# ============================================
NODE_ENV=production
